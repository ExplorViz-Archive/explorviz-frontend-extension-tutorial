<div class="row">
  <div class="col-8" id="vizspace">
    {{#if selectMode}}
      {{#unless liveMode}}
        {{#bs-button
          onClick=(action "showLiveLandscapes")
          type="secondary"
          outline=true
          class="btn-timeline"
          title="show live landscapes"
        }}
          show live landscapes
        {{/bs-button}}
        {{landscape-select/landscapelist model=model}}
    {{else}}
      {{#bs-button
        onClick=(action "hideLiveLandscapes")
        type="secondary"
        outline=true
        class="btn-timeline"
        title="hide live landscapes"
      }}
      hide live landscapes
      {{/bs-button}}
        {{#if showLandscape}}
          {{#if landscapeRepo.latestLandscape.systems}}
            <div id="rendering">
              {{landscape-visualization latestLandscape=landscapeRepo.latestLandscape interaction=landscapeService.landscapeinteraction interactionModel=model runmode=runmode }}
              <!-- popup(s) -->
              {{visualization/rendering/popups/popup-coordinator
              popupData=additionalData.popupContent}}
            </div>
            {{else}}
          <div class="container-fluid">
            <div class="jumbotron">
              <h2>No Landscape Found!</h2>
              <p>A new landscape will be fetched every 10 seconds.</p>
            </div>
            <div id="spinnerDiv" class="container" style="position:relative; height:20%;">
              {{ember-spinner}}
            </div>
          </div>
          {{/if}}
        {{else}}
          <div id="rendering">
            <div style="position: absolute!important" class="pl-1">
              {{#bs-button onClick=(action "openLandscapeView") type="secondary" outline=true title="Back to Landscape"}}
              {{svg-jar "reply" class="octicon align-middle"}}
              {{/bs-button}}
            </div>
            {{application-visualization latestApplication=landscapeService.application interaction=landscapeService.applicationinteraction interactionModel=model runmode=runmode }}
            {{visualization/rendering/popups/popup-coordinator
              popupData=additionalData.popupContent}}
          </div>
        {{/if}}
      <!-- timeline -->
      <div id="timeline-content">
        {{#bs-button
          onClick=(action "toggleTimeline")
          type="secondary"
          outline=true
          class="btn-timeline"
          title=(if renderingService.showTimeline "Hide Timeline" "Show Timeline")
        }}
          {{#unless renderingService.showTimeline}}<span class="pr-1">Show Timeline</span>{{/unless}}
          {{svg-jar "chevron-up" id="hidetimeline-icon" class=(if renderingService.showTimeline "octicon align-middle hidetimeline-icon-down" "octicon align-middle")}}
        {{/bs-button}}
        <div id="timeline" class="timeline {{unless renderingService.showTimeline "timelinehide"}}">
          {{component "timeline" model=model}}
        </div>
      </div>
      {{/unless}}
      {{else}}
      {{#if showLandscape}}
      <div id="rendering" style='height: 600px'>
          {{landscape-visualization latestLandscape=landscapeService.landscape interaction=landscapeService.landscapeinteraction interactionModel=model  runmode=runmode }}
      </div>
      {{else}}
      <div id="rendering" style='height: 600px'>
        <div style="position: absolute!important" class="pl-1">
          {{#bs-button onClick=(action "openLandscapeView") type="secondary" outline=true title="Back to Landscape"}}
          {{svg-jar "reply" class="octicon align-middle"}}
          {{/bs-button}}
        </div>
          {{application-visualization latestApplication=landscapeService.application interaction=landscapeService.applicationinteraction interactionModel=model runmode=runmode }}
      </div>
      {{/if}}
      {{/if}}
  </div>
  <div class="col-4" id="tutorialselection">
    {{#unless runmode}}
    {{#if this.currentUser.user.isAdmin}}
      {{component form model=model runmode=runmode}}
    {{else}}
      {{component "step-form" model=tutorialService.activeStep runmode=true}}
    {{/if}}
    {{else}}
      {{component "step-form" model=tutorialService.activeStep runmode=true}}
    {{/unless}}
  </div>
</div>
